(this.webpackJsonpnow=this.webpackJsonpnow||[]).push([[0],{13:function(t,e,n){},14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(6),c=n.n(i),o=(n(13),n(7)),u=n(1),s=n(4);n(14);function l(t){var e=t.items,n=t.dispatch;return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return n({type:"ADD_ITEM"})}},"new"),e.filter((function(t){return"DONE"!==t.status})).map((function(t){return r.a.createElement(d,{key:t.id,item:t,dispatch:n})})),e.filter((function(t){return"DONE"===t.status})).map((function(t){return r.a.createElement(d,{key:t.id,item:t,dispatch:n})})))}function m(t){var e=t.item,n=t.dispatch;return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return n({type:"GOTO",page:"INDEX"})}},"back"),e&&r.a.createElement(f,{item:e,dispatch:n}))}function d(t){var e=t.item,n=t.dispatch;return r.a.createElement("div",null,r.a.createElement(O,{style:{textDecoration:"DONE"===e.status?"strikethrough":"none"},onClick:function(){return n({type:"GOTO",page:"ITEM",params:{itemId:e.id}})}},e.title))}function f(t){var e=t.item,n=t.dispatch;return r.a.createElement("div",null,r.a.createElement("div",null,"DONE"!==e.status&&r.a.createElement("button",{onClick:function(){return n({type:"MARK_AS",itemId:e.id,status:"DONE"})}},"mark as done"),"DONE"===e.status&&r.a.createElement("button",{onClick:function(){return n({type:"MARK_AS",itemId:e.id,status:"TODO"})}},"mark as todo"),r.a.createElement("button",{onClick:function(){return window.confirm("Are you sure?")&&n({type:"REMOVE_ITEM",itemId:e.id})}},"delete...")),r.a.createElement("input",{type:"text",value:e.title,onChange:function(t){return n({type:"SET_ITEM_TITLE",itemId:e.id,value:t.target.value})}}))}var E={ADD_ITEM:function(t){return Object(u.a)(Object(u.a)({},t),{},{items:[].concat(Object(o.a)(t.items||[]),[{id:Math.random().toString(36).substring(7),title:"untitled"}])})},SET_ITEM_TITLE:function(t,e){var n=e.itemId,a=e.value;return Object(u.a)(Object(u.a)({},t),{},{items:t.items.map((function(t){return t.id===n?Object(u.a)(Object(u.a)({},t),{},{title:a}):t}))})},REMOVE_ITEM:function(t,e){var n=e.itemId;return Object(u.a)(Object(u.a)({},t),{},{items:t.items.filter((function(t){return t.id!==n}))})},MARK_AS:function(t,e){var n=e.itemId,a=e.status;return Object(u.a)(Object(u.a)({},t),{},{items:t.items.map((function(t){return t.id===n?Object(u.a)(Object(u.a)({},t),{},{status:a}):t}))})},GOTO:function(t,e){var n=e.page,a=e.params;return Object(u.a)(Object(u.a)({},t),{},{page:{id:n,params:a}})}};function p(t,e){if(E.hasOwnProperty(e.type))return E[e.type](t,e);throw new Error("Unknown action type `".concat(e.type,"`"))}function O(t){var e=t.onClick,n=t.children;return r.a.createElement("button",{style:{fontFamily:"serif",border:"0",fontSize:"1em",background:"transparent",margin:"0",padding:"0",textDecoration:"underline",color:"blue"},onClick:e},n)}var b=function(){var t=function(t){var e=localStorage.getItem("state"),n=null!==e?JSON.parse(e):t,r=Object(a.useState)(n),i=Object(s.a)(r,2),c=i[0],o=i[1];return Object(a.useEffect)((function(){localStorage.setItem("state",JSON.stringify(c))}),[c]),[c,o]}({}),e=Object(s.a)(t,2),n=e[0],i=e[1],c=Object(a.useReducer)(p,n),o=Object(s.a)(c,2),u=o[0],d=o[1];Object(a.useEffect)((function(){i(u)}),[i,u]);var f=u.items,E=void 0===f?[]:f,O=u.page,b=void 0===O?{id:"INDEX",params:{}}:O;return r.a.createElement("div",{className:"App"},"INDEX"===b.id&&r.a.createElement(l,{items:E,dispatch:d}),"ITEM"===b.id&&r.a.createElement(m,{item:E.filter((function(t){return t.id===b.params.itemId}))[0],dispatch:d}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},8:function(t,e,n){t.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.7a07b20f.chunk.js.map