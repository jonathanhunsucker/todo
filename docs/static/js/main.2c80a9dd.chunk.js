(this.webpackJsonpnow=this.webpackJsonpnow||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(6),c=n.n(i),l=(n(14),n(8)),u=n(7),o=n(1),s=n(4);n(15);function m(e){var t=e.items,n=e.dispatch;return r.a.createElement(g,null,r.a.createElement("div",null,r.a.createElement(b,{onClick:function(){return n({type:"ADD_ITEM"})}},"new")),r.a.createElement(g,{gap:1},r.a.createElement("h3",null,"TODO"),r.a.createElement(d,{items:t.filter((function(e){return"DONE"!==e.status})),dispatch:n})),r.a.createElement(g,{gap:1},r.a.createElement("h3",null,"DONE"),r.a.createElement(d,{items:t.filter((function(e){return"DONE"===e.status})),dispatch:n})))}function d(e){var t=e.items,n=e.dispatch;return r.a.createElement(g,{gap:1},t.map((function(e){return r.a.createElement(p,{key:e.id,item:e,dispatch:n})})),0===t.length&&r.a.createElement("div",null,"None"))}function E(e){var t=e.item,n=e.dispatch;return r.a.createElement(g,null,r.a.createElement("div",null,r.a.createElement(b,{onClick:function(){return n({type:"GOTO",page:"INDEX"})}},"back")),t&&r.a.createElement(f,{item:t,dispatch:n}))}function p(e){var t=e.item,n=e.dispatch;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{style:{fontFamily:"serif",border:"0",fontSize:"1em",background:"transparent",margin:"0",padding:"0",textDecoration:"underline",color:"blue",textAlign:"left"},onClick:function(){return n({type:"GOTO",page:"ITEM",params:{itemId:t.id}})}},t.title)))}function f(e){var t=e.item,n=e.dispatch;return r.a.createElement(g,null,"DONE"!==t.status&&r.a.createElement("div",null,r.a.createElement(b,{onClick:function(){return n({type:"MARK_AS",itemId:t.id,status:"DONE"})}},"mark as done")),"DONE"===t.status&&r.a.createElement("div",null,r.a.createElement(b,{onClick:function(){return n({type:"MARK_AS",itemId:t.id,status:"TODO"})}},"mark as todo")),r.a.createElement("div",null,r.a.createElement("textarea",{style:{resize:"vertical",width:"100%",minHeight:"20em"},value:t.title,onChange:function(e){return n({type:"SET_ITEM_TITLE",itemId:t.id,value:e.target.value})}})),r.a.createElement("div",null,r.a.createElement(b,{onClick:function(){return window.confirm("Are you sure?")&&n({type:"REMOVE_ITEM",itemId:t.id})}},"delete...")))}var O={ADD_ITEM:function(e){return Object(o.a)(Object(o.a)({},e),{},{items:[].concat(Object(u.a)(e.items||[]),[{id:Math.random().toString(36).substring(7),title:"untitled"}])})},SET_ITEM_TITLE:function(e,t){var n=t.itemId,a=t.value;return Object(o.a)(Object(o.a)({},e),{},{items:e.items.map((function(e){return e.id===n?Object(o.a)(Object(o.a)({},e),{},{title:a}):e}))})},REMOVE_ITEM:function(e,t){var n=t.itemId;return Object(o.a)(Object(o.a)({},e),{},{items:e.items.filter((function(e){return e.id!==n}))})},MARK_AS:function(e,t){var n=t.itemId,a=t.status;return Object(o.a)(Object(o.a)({},e),{},{items:e.items.map((function(e){return e.id===n?Object(o.a)(Object(o.a)({},e),{},{status:a}):e}))})},GOTO:function(e,t){var n=t.page,a=t.params;return Object(o.a)(Object(o.a)({},e),{},{page:{id:n,params:a}})}};function v(e,t){if(O.hasOwnProperty(t.type))return O[t.type](e,t);throw new Error("Unknown action type `".concat(t.type,"`"))}function b(e){var t=Object.assign({},e);return r.a.createElement("button",Object.assign({style:{padding:"0.5em 1em",background:"white",border:"1px solid grey",borderRadius:"0.25em",margin:0}},t))}function g(e){var t=e.gap,n=void 0===t?2:t,a=Object(l.a)(e,["gap"]);return r.a.createElement("div",Object.assign({style:{display:"grid",gap:"".concat(n/2,"em")}},a))}var h=function(){var e=function(e){var t=localStorage.getItem("state"),n=null!==t?JSON.parse(t):e,r=Object(a.useState)(n),i=Object(s.a)(r,2),c=i[0],l=i[1];return Object(a.useEffect)((function(){localStorage.setItem("state",JSON.stringify(c))}),[c]),[c,l]}({}),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(a.useReducer)(v,n),l=Object(s.a)(c,2),u=l[0],o=l[1];Object(a.useEffect)((function(){i(u)}),[i,u]);var d=u.items,p=void 0===d?[]:d,f=u.page,O=void 0===f?{id:"INDEX",params:{}}:f;return r.a.createElement("div",{className:"App"},"INDEX"===O.id&&r.a.createElement(m,{items:p,dispatch:o}),"ITEM"===O.id&&r.a.createElement(E,{item:p.filter((function(e){return e.id===O.params.itemId}))[0],dispatch:o}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.2c80a9dd.chunk.js.map